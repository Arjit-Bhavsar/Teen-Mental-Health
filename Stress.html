<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stress Management | Teen Mental Health Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sky-blue: #6B9BC3;
            --sky-light: #A3C4E0;
            --sage: #7D9B76;
            --sage-dark: #5A7254;
            --prairie: #C9B896;
            --earth: #8B7355;
            --cream: #F7F5F0;
            --cream-dark: #EBE8E0;
            --night: #2D3436;
            --night-light: #4A5254;
            --rust: #C17B5E;
            --rust-dark: #A65D40;
            --stress-blue: #3498DB;
            --stress-blue-dark: #2980B9;
            --stress-teal: #1ABC9C;
            
            --text-primary: #2D3436;
            --text-secondary: #636E72;
            --border-light: rgba(45, 52, 54, 0.08);
            
            --font-display: 'Fraunces', Georgia, serif;
            --font-body: 'Outfit', -apple-system, sans-serif;
            
            --shadow-soft: 0 4px 20px rgba(45, 52, 54, 0.06);
            --shadow-medium: 0 8px 30px rgba(45, 52, 54, 0.1);
            --shadow-strong: 0 12px 40px rgba(45, 52, 54, 0.14);
            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-body);
            background-color: var(--cream);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Grain texture */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.025;
            pointer-events: none;
            z-index: 9999;
        }

        /* ==================== INTRO OVERLAY ==================== */
        .intro-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, var(--night) 0%, #1a3a4a 100%);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        .intro-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .intro-content {
            text-align: center;
            color: white;
            max-width: 600px;
            padding: 2rem;
        }

        .intro-icon {
            width: 80px; height: 80px;
            background: linear-gradient(135deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(52, 152, 219, 0); }
        }

        .intro-icon svg { width: 40px; height: 40px; fill: white; }

        .intro-content h1 {
            font-family: var(--font-display);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.3s;
        }

        .intro-content p {
            font-size: 1.15rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.5s;
        }

        .intro-tagline {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--stress-teal);
            margin-bottom: 2.5rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.7s;
        }

        .intro-btn {
            padding: 1rem 2.5rem;
            background: white;
            color: var(--night);
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.9s;
        }

        .intro-btn:hover {
            background: var(--stress-teal);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* ==================== NAVIGATION ==================== */
        .navbar {
            position: fixed;
            top: 0; left: 0; right: 0;
            padding: 1rem 2rem;
            background: rgba(247, 245, 240, 0.92);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-light);
        }
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--night);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }
        .logo-mark {
            width: 36px; height: 36px;
            background: linear-gradient(135deg, var(--sage) 0%, var(--sky-blue) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logo-mark svg { width: 20px; height: 20px; fill: white; }
        .nav-links { display: flex; gap: 0.5rem; list-style: none; }
        .nav-links a {
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.6rem 1.1rem;
            border-radius: var(--radius-sm);
            transition: var(--transition);
        }
        .nav-links a:hover { color: var(--text-primary); background: var(--cream-dark); }
        .nav-links a.active { color: var(--stress-blue-dark); background: rgba(52, 152, 219, 0.12); }
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
        }
        .mobile-menu-btn span {
            display: block;
            width: 22px; height: 2px;
            background: var(--night);
            margin: 5px 0;
            transition: var(--transition);
        }

        /* ==================== PAGE HERO ==================== */
        .page-hero {
            padding: 10rem 2rem 5rem;
            background: linear-gradient(180deg, var(--cream) 0%, white 100%);
            position: relative;
            overflow: hidden;
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: 0; right: -10%;
            width: 500px; height: 500px;
            background: radial-gradient(circle, rgba(52, 152, 219, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .page-hero-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .page-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(52, 152, 219, 0.12);
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--stress-blue-dark);
            margin-bottom: 1.5rem;
        }

        .page-hero h1 {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            color: var(--night);
            margin-bottom: 1rem;
        }

        .page-hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* ==================== CONTENT SECTIONS ==================== */
        .content-section {
            padding: 5rem 2rem;
        }

        .section-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .content-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-soft);
            border-left: 4px solid var(--stress-blue);
        }

        .content-card h2 {
            font-family: var(--font-display);
            font-size: 1.75rem;
            color: var(--night);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .content-card h2 .icon {
            width: 40px; height: 40px;
            background: linear-gradient(135deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .content-card h2 .icon svg { width: 20px; height: 20px; fill: white; }

        .content-card p {
            color: var(--text-secondary);
            font-size: 1.05rem;
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.08) 0%, rgba(26, 188, 156, 0.08) 100%);
            border-left: 4px solid var(--stress-teal);
            padding: 1.5rem;
            border-radius: var(--radius-sm);
            margin: 1.5rem 0;
        }

        .highlight-box p {
            color: var(--night);
            font-weight: 500;
            margin: 0;
        }

        /* ==================== STRATEGIES SECTION ==================== */
        .strategies-section {
            background: white;
            padding: 5rem 2rem;
        }

        .strategies-header {
            text-align: center;
            max-width: 600px;
            margin: 0 auto 3rem;
        }

        .strategies-header h2 {
            font-family: var(--font-display);
            font-size: 2rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .strategies-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .strategies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .strategy-card {
            background: var(--cream);
            border-radius: var(--radius-lg);
            padding: 2rem;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .strategy-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            transform: scaleX(0);
            transition: var(--transition);
        }

        .strategy-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
        }

        .strategy-card:hover::before { transform: scaleX(1); }

        .strategy-icon {
            width: 50px; height: 50px;
            background: linear-gradient(135deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.25rem;
        }

        .strategy-icon svg { width: 24px; height: 24px; fill: white; }

        .strategy-card h3 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            color: var(--night);
            margin-bottom: 0.5rem;
        }

        .strategy-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* ==================== PRACTICE SECTION ==================== */
        .practice-section {
            padding: 5rem 2rem;
            background: linear-gradient(180deg, var(--cream) 0%, var(--cream-dark) 100%);
        }

        .practice-container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-strong);
            overflow: hidden;
        }

        .practice-header {
            background: linear-gradient(135deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            padding: 2rem;
            color: white;
            text-align: center;
        }

        .practice-header h2 {
            font-family: var(--font-display);
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .practice-header p { opacity: 0.9; }

        .practice-content { padding: 2.5rem; }

        .practice-step {
            display: none;
            animation: fadeSlide 0.4s ease;
        }

        .practice-step.active { display: block; }

        @keyframes fadeSlide {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .practice-step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .step-dot {
            width: 10px; height: 10px;
            border-radius: 50%;
            background: var(--cream-dark);
            transition: var(--transition);
        }

        .step-dot.active { background: var(--stress-blue); width: 30px; border-radius: 5px; }
        .step-dot.completed { background: var(--sage); }

        .practice-question {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--night);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .practice-textarea {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 2px solid var(--cream-dark);
            border-radius: var(--radius-md);
            font-family: var(--font-body);
            font-size: 1rem;
            resize: vertical;
            transition: var(--transition);
        }

        .practice-textarea:focus {
            outline: none;
            border-color: var(--stress-blue);
        }

        .stress-level-container {
            margin: 1.5rem 0;
        }

        .stress-level-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, var(--sage) 0%, var(--stress-teal) 33%, var(--stress-blue) 66%, var(--rust) 100%);
            outline: none;
            -webkit-appearance: none;
        }

        .stress-level-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px; height: 24px;
            border-radius: 50%;
            background: white;
            border: 3px solid var(--stress-blue);
            cursor: pointer;
            box-shadow: var(--shadow-soft);
        }

        .stress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .stress-value {
            text-align: center;
            font-family: var(--font-display);
            font-size: 3rem;
            font-weight: 700;
            color: var(--stress-blue);
            margin-bottom: 1rem;
        }

        .practice-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-light);
        }

        .practice-btn {
            padding: 0.9rem 1.75rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
        }

        .practice-btn.prev {
            background: transparent;
            border: 2px solid var(--text-secondary);
            color: var(--text-secondary);
        }

        .practice-btn.prev:hover { border-color: var(--night); color: var(--night); }

        .practice-btn.next {
            background: var(--night);
            color: white;
        }

        .practice-btn.next:hover { background: var(--stress-blue); }
        .practice-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .practice-btn svg { width: 16px; height: 16px; fill: currentColor; }

        /* Practice Results */
        .practice-results { text-align: center; }

        .results-icon {
            width: 70px; height: 70px;
            background: linear-gradient(135deg, var(--sage) 0%, var(--stress-teal) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .results-icon svg { width: 35px; height: 35px; fill: white; }

        .practice-results h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--night);
            margin-bottom: 1rem;
        }

        .reflection-summary {
            background: var(--cream);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            text-align: left;
            margin: 1.5rem 0;
        }

        .reflection-item {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-light);
        }

        .reflection-item:last-child { border-bottom: none; }

        .reflection-label {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .reflection-value {
            font-size: 1rem;
            color: var(--night);
        }

        .coping-suggestion {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1) 0%, rgba(26, 188, 156, 0.1) 100%);
            border-left: 4px solid var(--stress-teal);
            padding: 1.25rem;
            border-radius: var(--radius-sm);
            margin-top: 1.5rem;
            text-align: left;
        }

        .coping-suggestion h4 {
            font-size: 0.95rem;
            color: var(--stress-blue-dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .coping-suggestion p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }

        /* ==================== BREATHING GUIDE SECTION ==================== */
        .breathing-section {
            padding: 5rem 2rem;
            background: linear-gradient(180deg, white 0%, var(--cream) 100%);
        }

        .breathing-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .breathing-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .breathing-header h2 {
            font-family: var(--font-display);
            font-size: 2rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .breathing-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .breathing-tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .breathing-tab {
            padding: 0.75rem 1.5rem;
            background: white;
            border: 2px solid var(--cream-dark);
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .breathing-tab:hover {
            border-color: var(--stress-blue);
            color: var(--stress-blue);
        }

        .breathing-tab.active {
            background: var(--stress-blue);
            border-color: var(--stress-blue);
            color: white;
        }

        .breathing-exercise {
            display: none;
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-strong);
            overflow: hidden;
        }

        .breathing-exercise.active {
            display: block;
            animation: fadeSlide 0.4s ease;
        }

        .exercise-header {
            background: linear-gradient(135deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            padding: 1.5rem 2rem;
            color: white;
        }

        .exercise-header h3 {
            font-family: var(--font-display);
            font-size: 1.4rem;
            margin-bottom: 0.25rem;
        }

        .exercise-header p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .exercise-content {
            padding: 2.5rem;
            text-align: center;
        }

        /* Breathing Circle Animation */
        .breathing-visual {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto 2rem;
        }

        .breathing-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 4s ease-in-out, box-shadow 4s ease-in-out;
        }

        .breathing-circle.inhale {
            transform: translate(-50%, -50%) scale(1.4);
            box-shadow: 0 0 60px rgba(52, 152, 219, 0.4);
        }

        .breathing-circle.exhale {
            transform: translate(-50%, -50%) scale(1);
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.2);
        }

        .breathing-circle.hold {
            box-shadow: 0 0 40px rgba(26, 188, 156, 0.5);
        }

        .breathing-text {
            color: white;
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .breathing-timer {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--stress-blue);
        }

        .breathing-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 260px;
            height: 260px;
            border-radius: 50%;
            border: 3px solid var(--cream-dark);
        }

        .breathing-ring-progress {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 260px;
            height: 260px;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: var(--stress-teal);
            animation: none;
        }

        .breathing-ring-progress.animating {
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .breathing-instructions {
            margin-bottom: 2rem;
        }

        .breathing-instructions p {
            color: var(--text-secondary);
            font-size: 1rem;
            line-height: 1.7;
        }

        .breathing-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .breathing-btn {
            padding: 1rem 2rem;
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
        }

        .breathing-btn.primary {
            background: var(--night);
            color: white;
        }

        .breathing-btn.primary:hover {
            background: var(--stress-blue);
            transform: translateY(-2px);
        }

        .breathing-btn.secondary {
            background: var(--cream);
            color: var(--night);
        }

        .breathing-btn.secondary:hover {
            background: var(--cream-dark);
        }

        .breathing-btn svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        .breathing-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Cycle Counter */
        .cycle-counter {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .cycle-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--cream-dark);
            transition: var(--transition);
        }

        .cycle-dot.completed {
            background: var(--stress-teal);
        }

        .cycle-dot.active {
            background: var(--stress-blue);
            transform: scale(1.2);
        }

        /* Benefits Card */
        .breathing-benefits {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-light);
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            text-align: center;
        }

        .benefit-item {
            padding: 1rem;
        }

        .benefit-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1) 0%, rgba(26, 188, 156, 0.1) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.5rem;
        }

        .benefit-icon svg {
            width: 20px;
            height: 20px;
            fill: var(--stress-blue);
        }

        .benefit-item span {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* 5-4-3-2-1 Grounding */
        .grounding-exercise {
            text-align: left;
        }

        .grounding-steps {
            display: grid;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .grounding-step {
            background: var(--cream);
            border-radius: var(--radius-md);
            padding: 1.25rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            transition: var(--transition);
            cursor: pointer;
        }

        .grounding-step:hover {
            transform: translateX(8px);
            box-shadow: var(--shadow-soft);
        }

        .grounding-step.active {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--stress-blue);
        }

        .grounding-step.completed {
            background: rgba(26, 188, 156, 0.1);
            border-left: 4px solid var(--stress-teal);
        }

        .grounding-number {
            width: 36px;
            height: 36px;
            background: var(--stress-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-display);
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }

        .grounding-step.completed .grounding-number {
            background: var(--stress-teal);
        }

        .grounding-content h4 {
            font-family: var(--font-display);
            font-size: 1.1rem;
            color: var(--night);
            margin-bottom: 0.25rem;
        }

        .grounding-content p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .grounding-input {
            width: 100%;
            padding: 0.75rem;
            margin-top: 0.75rem;
            border: 2px solid var(--cream-dark);
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .grounding-input:focus {
            outline: none;
            border-color: var(--stress-blue);
        }

        .grounding-complete {
            display: none;
            text-align: center;
            padding: 2rem;
            animation: fadeSlide 0.5s ease;
        }

        .grounding-complete.show {
            display: block;
        }

        .grounding-complete h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--night);
            margin-bottom: 0.5rem;
        }

        .grounding-complete p {
            color: var(--text-secondary);
        }

        /* ==================== QUIZ SECTION ==================== */
        .quiz-section {
            padding: 5rem 2rem;
            background: white;
        }

        .quiz-container { max-width: 700px; margin: 0 auto; }

        .quiz-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .quiz-header h2 {
            font-family: var(--font-display);
            font-size: 2rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .quiz-header p {
            color: var(--text-secondary);
            font-size: 1.05rem;
        }

        .quiz-progress {
            height: 6px;
            background: var(--cream-dark);
            border-radius: 3px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .quiz-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--stress-blue) 0%, var(--stress-teal) 100%);
            border-radius: 3px;
            transition: width 0.4s ease;
        }

        .quiz-question-container {
            background: var(--cream);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .quiz-question-number {
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--stress-blue);
            margin-bottom: 0.75rem;
        }

        .quiz-question-text {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--night);
            margin-bottom: 1.5rem;
        }

        .quiz-options { display: grid; gap: 0.75rem; }

        .quiz-option {
            padding: 1rem 1.25rem;
            background: white;
            border: 2px solid transparent;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.9rem;
            font-size: 0.95rem;
        }

        .quiz-option:hover { border-color: var(--stress-blue); }
        .quiz-option.selected { border-color: var(--stress-blue); background: rgba(52, 152, 219, 0.08); }
        .quiz-option.correct { border-color: var(--sage); background: rgba(125, 155, 118, 0.15); }
        .quiz-option.incorrect { border-color: var(--rust); background: rgba(193, 123, 94, 0.15); }

        .option-letter {
            width: 28px; height: 28px;
            border-radius: 50%;
            background: var(--cream-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--text-secondary);
            flex-shrink: 0;
            transition: var(--transition);
        }

        .quiz-option.selected .option-letter { background: var(--stress-blue); color: white; }
        .quiz-option.correct .option-letter { background: var(--sage); color: white; }
        .quiz-option.incorrect .option-letter { background: var(--rust); color: white; }

        .quiz-feedback {
            display: none;
            padding: 1.25rem;
            border-radius: var(--radius-md);
            margin-top: 1rem;
        }

        .quiz-feedback.show { display: block; animation: fadeSlide 0.3s ease; }
        .quiz-feedback.correct { background: rgba(125, 155, 118, 0.15); border-left: 4px solid var(--sage); }
        .quiz-feedback.incorrect { background: rgba(193, 123, 94, 0.15); border-left: 4px solid var(--rust); }

        .quiz-feedback h4 { font-size: 1rem; margin-bottom: 0.5rem; }
        .quiz-feedback.correct h4 { color: var(--sage-dark); }
        .quiz-feedback.incorrect h4 { color: var(--rust-dark); }
        .quiz-feedback p { font-size: 0.9rem; color: var(--text-secondary); margin: 0; }

        .quiz-nav { display: flex; justify-content: space-between; margin-top: 1.5rem; }

        .quiz-btn {
            padding: 0.9rem 1.75rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
        }

        .quiz-btn.secondary { background: var(--cream); color: var(--night); }
        .quiz-btn.secondary:hover { background: var(--cream-dark); }
        .quiz-btn.primary { background: var(--night); color: white; }
        .quiz-btn.primary:hover { background: var(--stress-blue); }
        .quiz-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .quiz-btn svg { width: 16px; height: 16px; fill: currentColor; }

        /* Quiz Results */
        .quiz-results {
            display: none;
            text-align: center;
            padding: 2rem;
            background: var(--cream);
            border-radius: var(--radius-lg);
        }

        .quiz-results.show { display: block; animation: fadeSlide 0.5s ease; }

        .quiz-score-circle {
            width: 120px; height: 120px;
            border-radius: 50%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            box-shadow: var(--shadow-medium);
        }

        .quiz-score-value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--stress-blue);
            line-height: 1;
        }

        .quiz-score-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        .quiz-results h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .quiz-results > p {
            color: var(--text-secondary);
            max-width: 400px;
            margin: 0 auto 1.5rem;
        }

        /* ==================== FOOTER ==================== */
        footer {
            background: var(--night);
            color: white;
            padding: 3rem 2rem 2rem;
        }

        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .footer-brand { display: flex; align-items: center; gap: 0.6rem; }
        .footer-brand .logo-mark { width: 32px; height: 32px; }
        .footer-brand span { font-family: var(--font-display); font-size: 1.25rem; font-weight: 600; }
        .footer-links { display: flex; gap: 2rem; flex-wrap: wrap; }
        .footer-links a { color: var(--sky-light); text-decoration: none; font-size: 0.9rem; transition: var(--transition); }
        .footer-links a:hover { color: white; }
        .footer-copy {
            width: 100%;
            text-align: center;
            padding-top: 2rem;
            margin-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 0.85rem;
            color: var(--sky-light);
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            .navbar { padding: 0.9rem 1.5rem; }
            .nav-links {
                display: none;
                position: absolute;
                top: 100%; left: 0; right: 0;
                background: var(--cream);
                flex-direction: column;
                padding: 1.5rem;
                gap: 0.5rem;
                border-bottom: 1px solid var(--border-light);
            }
            .nav-links.active { display: flex; }
            .mobile-menu-btn { display: block; }
            .page-hero { padding: 8rem 1.5rem 3rem; }
            .content-card { padding: 1.75rem; }
            .practice-content { padding: 1.75rem; }
            .footer-container { flex-direction: column; text-align: center; }
            .footer-links { justify-content: center; }
            .intro-content h1 { font-size: 2rem; }
        }

        @media (max-width: 480px) {
            .strategies-grid { grid-template-columns: 1fr; }
            .intro-content h1 { font-size: 1.75rem; }
            .intro-tagline { font-size: 1.25rem; }
        }
    </style>
</head>
<body>

    <!-- Intro Overlay -->
    <div class="intro-overlay" id="intro-overlay">
        <div class="intro-content">
            <div class="intro-icon">
                <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            </div>
            <h1>Managing Your Stress</h1>
            <p>Stress is not your enemy--it is a signal. Learning to work with it instead of against it changes everything.</p>
            <div class="intro-tagline">"You can not control what happens. You can control how you respond."</div>
            <button class="intro-btn" onclick="closeIntro()">Let Us Begin</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-mark">
                    <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
                Teen Mental Health
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="Emotions.html">Emotions</a></li>
                <li><a href="Stress.html" class="active">Stress Management</a></li>
                <li><a href="Care.html">Self-Care</a></li>
                <li><a href="Talk.html">Positive Self-Talk</a></li>
            </ul>
            <button class="mobile-menu-btn" aria-label="Toggle menu" onclick="toggleMobileMenu()">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="page-hero-content">
            <span class="page-badge">Module 2</span>
            <h1>Stress Management</h1>
            <p>Learn practical techniques to handle pressure from school, work, and life without letting it overwhelm you.</p>
        </div>
    </section>

    <!-- Content Section: What is Stress -->
    <section class="content-section">
        <div class="section-container">
            <div class="content-card">
                <h2>
                    <span class="icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg></span>
                    What is Stress?
                </h2>
                <div class="highlight-box">
                    <p>Stress is your body's response to changes and challenges. It is your brain's way of preparing you to face what is coming ahead--a built-in alarm system designed to protect you.</p>
                </div>
                <p>When you encounter a challenge, your body releases hormones like cortisol and adrenaline. These create physical changes: your heart beats faster, your muscles tense, and your focus sharpens. This "stress response" helped our ancestors survive threats.</p>
                <p>The problem is not stress itself--it is chronic, unmanaged stress. Short-term stress can actually improve performance. But when stress becomes constant, it starts affecting your sleep, mood, health, and ability to think clearly.</p>
            </div>

            <div class="content-card">
                <h2>
                    <span class="icon"><svg viewBox="0 0 24 24"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2z"/></svg></span>
                    What Causes Stress?
                </h2>
                <p>Stress triggers vary from person to person, but common ones for teens include:</p>
                <div class="highlight-box">
                    <p>Academic pressure, social situations, family expectations, future uncertainty, time management, and major life changes are all common stress triggers. The key is not avoiding stress--it is learning to handle it.</p>
                </div>
                <p>Understanding your personal triggers is the first step. When you know what tends to stress you out, you can prepare for it and develop specific coping strategies.</p>
            </div>
        </div>
    </section>

    <!-- Strategies Section -->
    <section class="strategies-section" id="strategies">
        <div class="section-container">
            <div class="strategies-header">
                <h2>Stress Management Strategies</h2>
                <p>Practical techniques you can use today to take control of your stress.</p>
            </div>

            <div class="strategies-grid">
                <div class="strategy-card">
                    <div class="strategy-icon">
                        <svg viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"/></svg>
                    </div>
                    <h3>Identify Your Triggers</h3>
                    <p>Keep track of when you feel stressed. Notice patterns--certain times, people, or situations that consistently trigger stress.</p>
                </div>

                <div class="strategy-card">
                    <div class="strategy-icon">
                        <svg viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>
                    </div>
                    <h3>Plan Ahead</h3>
                    <p>When you have a lot to do, create a simple schedule. It does not have to be rigid--just a guide to follow so nothing feels overwhelming.</p>
                </div>

                <div class="strategy-card">
                    <div class="strategy-icon">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    </div>
                    <h3>Practice Mindfulness</h3>
                    <p>Respond to emotions rather than react. Take a breath before responding to stressful situations. This small pause changes everything.</p>
                </div>

                <div class="strategy-card">
                    <div class="strategy-icon">
                        <svg viewBox="0 0 24 24"><path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67z"/></svg>
                    </div>
                    <h3>Mindful Walking</h3>
                    <p>Take a walk outside without your phone. Observe what is happening around you--the sky, sounds, sensations. Let your mind reset.</p>
                </div>

                <div class="strategy-card">
                    <div class="strategy-icon">
                        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>
                    </div>
                    <h3>Meditation</h3>
                    <p>Find a comfortable spot. Focus on your breath. When thoughts come (they will), gently return focus to breathing. Start with just 5 minutes daily.</p>
                </div>

                <div class="strategy-card">
                    <div class="strategy-icon">
                        <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3z"/></svg>
                    </div>
                    <h3>Connect with Others</h3>
                    <p>Talk to someone you trust about what is stressing you. Sometimes just saying it out loud helps reduce its power over you.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Breathing Guide Section -->
    <section class="breathing-section" id="breathing">
        <div class="breathing-container">
            <div class="breathing-header">
                <h2>Interactive Breathing Exercises</h2>
                <p>Use these guided exercises to calm your nervous system in minutes. Try one now--it really works.</p>
            </div>

            <div class="breathing-tabs">
                <button class="breathing-tab active" onclick="showBreathingExercise('box')">Box Breathing</button>
                <button class="breathing-tab" onclick="showBreathingExercise('478')">4-7-8 Technique</button>
                <button class="breathing-tab" onclick="showBreathingExercise('grounding')">5-4-3-2-1 Grounding</button>
            </div>

            <!-- Box Breathing Exercise -->
            <div class="breathing-exercise active" id="exercise-box">
                <div class="exercise-header">
                    <h3>Box Breathing</h3>
                    <p>Used by Navy SEALs to stay calm under pressure. 4 seconds in, 4 hold, 4 out, 4 hold.</p>
                </div>
                <div class="exercise-content">
                    <div class="breathing-visual">
                        <div class="breathing-ring"></div>
                        <div class="breathing-ring-progress" id="box-ring"></div>
                        <div class="breathing-circle" id="box-circle">
                            <span class="breathing-text" id="box-text">Ready</span>
                        </div>
                        <div class="breathing-timer" id="box-timer">4</div>
                    </div>

                    <div class="breathing-instructions">
                        <p>Find a comfortable position. When you click start, follow the visual cue: breathe in as the circle expands, hold, breathe out as it contracts, and hold again.</p>
                    </div>

                    <div class="breathing-controls">
                        <button class="breathing-btn primary" id="box-start-btn" onclick="startBoxBreathing()">
                            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            Start Exercise
                        </button>
                        <button class="breathing-btn secondary" id="box-stop-btn" onclick="stopBoxBreathing()" style="display: none;">
                            <svg viewBox="0 0 24 24"><path d="M6 6h12v12H6z"/></svg>
                            Stop
                        </button>
                    </div>

                    <div class="cycle-counter" id="box-cycles">
                        <div class="cycle-dot"></div>
                        <div class="cycle-dot"></div>
                        <div class="cycle-dot"></div>
                        <div class="cycle-dot"></div>
                    </div>

                    <div class="breathing-benefits">
                        <div class="benefits-grid">
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div>
                                <span>Lowers heart rate</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
                                <span>Reduces anxiety</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"/></svg></div>
                                <span>Improves focus</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
                                <span>Takes 2 minutes</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4-7-8 Breathing Exercise -->
            <div class="breathing-exercise" id="exercise-478">
                <div class="exercise-header">
                    <h3>4-7-8 Breathing</h3>
                    <p>Dr. Andrew Weil's relaxation technique. Great for falling asleep or calming intense anxiety.</p>
                </div>
                <div class="exercise-content">
                    <div class="breathing-visual">
                        <div class="breathing-ring"></div>
                        <div class="breathing-ring-progress" id="478-ring"></div>
                        <div class="breathing-circle" id="478-circle">
                            <span class="breathing-text" id="478-text">Ready</span>
                        </div>
                        <div class="breathing-timer" id="478-timer">4</div>
                    </div>

                    <div class="breathing-instructions">
                        <p>Breathe in through your nose for 4 seconds, hold for 7 seconds, then exhale slowly through your mouth for 8 seconds. This activates your parasympathetic nervous system.</p>
                    </div>

                    <div class="breathing-controls">
                        <button class="breathing-btn primary" id="478-start-btn" onclick="start478Breathing()">
                            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            Start Exercise
                        </button>
                        <button class="breathing-btn secondary" id="478-stop-btn" onclick="stop478Breathing()" style="display: none;">
                            <svg viewBox="0 0 24 24"><path d="M6 6h12v12H6z"/></svg>
                            Stop
                        </button>
                    </div>

                    <div class="cycle-counter" id="478-cycles">
                        <div class="cycle-dot"></div>
                        <div class="cycle-dot"></div>
                        <div class="cycle-dot"></div>
                        <div class="cycle-dot"></div>
                    </div>

                    <div class="breathing-benefits">
                        <div class="benefits-grid">
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/></svg></div>
                                <span>Helps you sleep</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
                                <span>Calms panic</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg></div>
                                <span>Evidence-based</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
                                <span>Takes 1 minute</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 5-4-3-2-1 Grounding Exercise -->
            <div class="breathing-exercise" id="exercise-grounding">
                <div class="exercise-header">
                    <h3>5-4-3-2-1 Grounding</h3>
                    <p>A sensory awareness exercise that brings you back to the present moment when anxiety takes over.</p>
                </div>
                <div class="exercise-content grounding-exercise">
                    <div class="breathing-instructions">
                        <p>When you feel overwhelmed or disconnected, this technique uses your five senses to anchor you in the present. Click each step and enter what you notice.</p>
                    </div>

                    <div class="grounding-steps" id="grounding-steps">
                        <div class="grounding-step active" onclick="activateGroundingStep(0)">
                            <div class="grounding-number">5</div>
                            <div class="grounding-content">
                                <h4>Things You Can SEE</h4>
                                <p>Look around and name 5 things you can see right now.</p>
                                <input type="text" class="grounding-input" id="grounding-see" placeholder="What do you see? (e.g., blue sky, my desk, a plant...)">
                            </div>
                        </div>

                        <div class="grounding-step" onclick="activateGroundingStep(1)">
                            <div class="grounding-number">4</div>
                            <div class="grounding-content">
                                <h4>Things You Can TOUCH</h4>
                                <p>Notice 4 things you can physically feel.</p>
                                <input type="text" class="grounding-input" id="grounding-touch" placeholder="What do you feel? (e.g., chair, floor, phone...)">
                            </div>
                        </div>

                        <div class="grounding-step" onclick="activateGroundingStep(2)">
                            <div class="grounding-number">3</div>
                            <div class="grounding-content">
                                <h4>Things You Can HEAR</h4>
                                <p>Listen for 3 sounds around you.</p>
                                <input type="text" class="grounding-input" id="grounding-hear" placeholder="What do you hear? (e.g., fan, birds, traffic...)">
                            </div>
                        </div>

                        <div class="grounding-step" onclick="activateGroundingStep(3)">
                            <div class="grounding-number">2</div>
                            <div class="grounding-content">
                                <h4>Things You Can SMELL</h4>
                                <p>Identify 2 scents you can notice.</p>
                                <input type="text" class="grounding-input" id="grounding-smell" placeholder="What do you smell? (e.g., coffee, fresh air...)">
                            </div>
                        </div>

                        <div class="grounding-step" onclick="activateGroundingStep(4)">
                            <div class="grounding-number">1</div>
                            <div class="grounding-content">
                                <h4>Thing You Can TASTE</h4>
                                <p>Notice 1 taste in your mouth.</p>
                                <input type="text" class="grounding-input" id="grounding-taste" placeholder="What do you taste? (e.g., mint, water...)">
                            </div>
                        </div>
                    </div>

                    <div class="breathing-controls" style="margin-top: 1.5rem;">
                        <button class="breathing-btn primary" onclick="completeGrounding()">
                            <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                            Complete Exercise
                        </button>
                        <button class="breathing-btn secondary" onclick="resetGrounding()">
                            <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                            Reset
                        </button>
                    </div>

                    <div class="grounding-complete" id="grounding-complete">
                        <div class="results-icon">
                            <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                        </div>
                        <h3>You are present.</h3>
                        <p>Great work. You have reconnected with the here and now. Use this technique anytime anxiety pulls you away from the present moment.</p>
                    </div>

                    <div class="breathing-benefits">
                        <div class="benefits-grid">
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
                                <span>Stops spiraling</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg></div>
                                <span>Helps with panic</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg></div>
                                <span>Use anywhere</span>
                            </div>
                            <div class="benefit-item">
                                <div class="benefit-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
                                <span>Takes 2 minutes</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Section -->
    <section class="practice-section" id="practice">
        <div class="section-container">
            <div class="practice-container">
                <div class="practice-header">
                    <h2>Practice: Stress Check-In</h2>
                    <p>Identify your current stress and create a coping plan.</p>
                </div>

                <div class="practice-content">
                    <div class="practice-step-indicator">
                        <div class="step-dot active" data-step="1"></div>
                        <div class="step-dot" data-step="2"></div>
                        <div class="step-dot" data-step="3"></div>
                        <div class="step-dot" data-step="4"></div>
                    </div>

                    <!-- Step 1: Stress Level -->
                    <div class="practice-step active" id="practice-step-1">
                        <p class="practice-question">How stressed are you feeling right now?</p>
                        <div class="stress-value" id="stress-display">5</div>
                        <div class="stress-level-container">
                            <input type="range" min="1" max="10" value="5" class="stress-level-slider" id="stress-slider" oninput="updateStress(this.value)">
                            <div class="stress-labels">
                                <span>Calm</span>
                                <span>Moderate</span>
                                <span>Overwhelmed</span>
                            </div>
                        </div>
                        <div class="practice-nav">
                            <div></div>
                            <button class="practice-btn next" onclick="nextPracticeStep()">
                                Continue
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Identify Stressor -->
                    <div class="practice-step" id="practice-step-2">
                        <p class="practice-question">What is causing you the most stress right now?</p>
                        <textarea class="practice-textarea" id="stressor-input" placeholder="Describe what is on your mind..."></textarea>
                        <div class="practice-nav">
                            <button class="practice-btn prev" onclick="prevPracticeStep()">
                                <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                                Back
                            </button>
                            <button class="practice-btn next" onclick="nextPracticeStep()">
                                Continue
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Control Check -->
                    <div class="practice-step" id="practice-step-3">
                        <p class="practice-question">What part of this situation can you control?</p>
                        <textarea class="practice-textarea" id="control-input" placeholder="Focus on what you CAN influence..."></textarea>
                        <div class="practice-nav">
                            <button class="practice-btn prev" onclick="prevPracticeStep()">
                                <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                                Back
                            </button>
                            <button class="practice-btn next" onclick="nextPracticeStep()">
                                See Results
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Results -->
                    <div class="practice-step" id="practice-step-4">
                        <div class="practice-results">
                            <div class="results-icon">
                                <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                            </div>
                            <h3>Your Stress Management Plan</h3>
                            
                            <div class="reflection-summary" id="reflection-summary"></div>

                            <div class="coping-suggestion" id="coping-suggestion">
                                <h4>
                                    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"/></svg>
                                    Suggested Strategy
                                </h4>
                                <p id="coping-text"></p>
                            </div>

                            <div class="practice-nav" style="justify-content: center; margin-top: 2rem;">
                                <button class="practice-btn next" onclick="resetPractice()">
                                    Try Again
                                    <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quiz Section -->
    <section class="quiz-section" id="quiz">
        <div class="quiz-container">
            <div class="quiz-header">
                <h2>Self-Check: Test Your Knowledge</h2>
                <p>See how much you have learned about stress management.</p>
            </div>

            <div class="quiz-progress">
                <div class="quiz-progress-bar" id="quiz-progress-bar" style="width: 0%"></div>
            </div>

            <div id="quiz-content"></div>

            <div class="quiz-results" id="quiz-results">
                <div class="quiz-score-circle">
                    <div class="quiz-score-value" id="quiz-score">0</div>
                    <div class="quiz-score-label">out of 5</div>
                </div>
                <h3 id="quiz-result-title">Nice work!</h3>
                <p id="quiz-result-message">You are building strong stress management skills.</p>
                <button class="practice-btn next" onclick="resetQuiz()" style="margin: 0 auto;">
                    Try Again
                    <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-brand">
                <div class="logo-mark"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
                <span>Teen Mental Health Guide</span>
            </div>
            <div class="footer-links">
                <a href="index.html">Home</a>
                <a href="#strategies">Strategies</a>
                <a href="#practice">Practice</a>
                <a href="#quiz">Self-Check</a>
            </div>
            <p class="footer-copy">(c) 2025 Teen Mental Health Guide. This site does not provide medical advice. If you are in crisis, please call 988.</p>
        </div>
    </footer>

    <script>
        // ==================== INTRO OVERLAY ====================
        function closeIntro() {
            document.getElementById('intro-overlay').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('DOMContentLoaded', function() {
            var hasSeenIntro = sessionStorage.getItem('stress_intro_seen');
            if (hasSeenIntro) {
                document.getElementById('intro-overlay').classList.add('hidden');
            } else {
                document.body.style.overflow = 'hidden';
                sessionStorage.setItem('stress_intro_seen', 'true');
            }
            initQuiz();
        });

        // ==================== MOBILE MENU ====================
        function toggleMobileMenu() {
            document.querySelector('.nav-links').classList.toggle('active');
        }

        // ==================== PRACTICE EXERCISE ====================
        var practiceData = {
            stressLevel: 5,
            stressor: '',
            control: ''
        };
        var currentPracticeStep = 1;

        function updateStress(value) {
            document.getElementById('stress-display').textContent = value;
            practiceData.stressLevel = parseInt(value);
        }

        function updateStepIndicators() {
            var dots = document.querySelectorAll('.step-dot');
            dots.forEach(function(dot, i) {
                dot.classList.remove('active', 'completed');
                if (i + 1 === currentPracticeStep) {
                    dot.classList.add('active');
                } else if (i + 1 < currentPracticeStep) {
                    dot.classList.add('completed');
                }
            });
        }

        function nextPracticeStep() {
            if (currentPracticeStep === 2) {
                practiceData.stressor = document.getElementById('stressor-input').value;
            } else if (currentPracticeStep === 3) {
                practiceData.control = document.getElementById('control-input').value;
                showPracticeResults();
            }
            
            document.getElementById('practice-step-' + currentPracticeStep).classList.remove('active');
            currentPracticeStep++;
            document.getElementById('practice-step-' + currentPracticeStep).classList.add('active');
            updateStepIndicators();
        }

        function prevPracticeStep() {
            document.getElementById('practice-step-' + currentPracticeStep).classList.remove('active');
            currentPracticeStep--;
            document.getElementById('practice-step-' + currentPracticeStep).classList.add('active');
            updateStepIndicators();
        }

        function showPracticeResults() {
            var levelText = practiceData.stressLevel <= 3 ? 'Low' : practiceData.stressLevel <= 6 ? 'Moderate' : 'High';
            
            var summaryHTML = '<div class="reflection-item">' +
                '<div class="reflection-label">Stress Level</div>' +
                '<div class="reflection-value">' + practiceData.stressLevel + '/10 (' + levelText + ')</div>' +
                '</div>' +
                '<div class="reflection-item">' +
                '<div class="reflection-label">Main Stressor</div>' +
                '<div class="reflection-value">' + (practiceData.stressor || 'Not specified') + '</div>' +
                '</div>' +
                '<div class="reflection-item">' +
                '<div class="reflection-label">What You Can Control</div>' +
                '<div class="reflection-value">' + (practiceData.control || 'Not specified') + '</div>' +
                '</div>';
            
            document.getElementById('reflection-summary').innerHTML = summaryHTML;

            var copingStrategies = {
                low: "Your stress is manageable. This is a great time to build healthy habits. Try a 5-minute daily meditation to maintain your calm state and build resilience for future challenges.",
                moderate: "You are experiencing normal stress levels. Focus on the aspects you can control and break larger tasks into smaller steps. A short walk or some deep breathing can help reset your nervous system.",
                high: "Your stress levels are elevated. Prioritize one thing at a time and do not hesitate to ask for help. Consider talking to someone you trust, and try box breathing: breathe in for 4 counts, hold for 4, out for 4, hold for 4."
            };

            var strategy = practiceData.stressLevel <= 3 ? copingStrategies.low : 
                          practiceData.stressLevel <= 6 ? copingStrategies.moderate : 
                          copingStrategies.high;
            
            document.getElementById('coping-text').textContent = strategy;
        }

        function resetPractice() {
            practiceData = { stressLevel: 5, stressor: '', control: '' };
            currentPracticeStep = 1;
            document.getElementById('stress-slider').value = 5;
            document.getElementById('stress-display').textContent = '5';
            document.getElementById('stressor-input').value = '';
            document.getElementById('control-input').value = '';
            
            var steps = document.querySelectorAll('.practice-step');
            steps.forEach(function(s) { s.classList.remove('active'); });
            document.getElementById('practice-step-1').classList.add('active');
            updateStepIndicators();
        }

        // ==================== QUIZ ====================
        var quizQuestions = [
            {
                question: "What is stress?",
                options: [
                    "A sign that something is wrong with you",
                    "Your body's response to changes and challenges",
                    "Something you should always avoid",
                    "A mental illness"
                ],
                correct: 1,
                explanation: "Stress is your body's natural response to changes and challenges--it is a built-in system designed to help you handle difficult situations."
            },
            {
                question: "Which is the best first step in managing stress?",
                options: [
                    "Ignore it until it goes away",
                    "Avoid all stressful situations",
                    "Identify what triggers your stress",
                    "Work harder to get everything done faster"
                ],
                correct: 2,
                explanation: "Identifying your triggers helps you understand patterns and prepare for stressful situations before they happen."
            },
            {
                question: "What does mindfulness help you do?",
                options: [
                    "Eliminate all negative thoughts",
                    "Respond to emotions rather than react to them",
                    "Avoid feeling any stress",
                    "Think about multiple things at once"
                ],
                correct: 1,
                explanation: "Mindfulness helps you pause and respond thoughtfully rather than react impulsively to stressful situations."
            },
            {
                question: "Why is short-term stress not always bad?",
                options: [
                    "It is always bad for you",
                    "It can actually improve performance",
                    "It makes you look busy",
                    "It helps you avoid responsibilities"
                ],
                correct: 1,
                explanation: "Short-term stress can sharpen focus and improve performance. It is chronic, unmanaged stress that causes problems."
            },
            {
                question: "What is a good stress management strategy?",
                options: [
                    "Keep your problems to yourself",
                    "Skip sleep to get more done",
                    "Plan ahead and create a schedule",
                    "Avoid all challenging situations"
                ],
                correct: 2,
                explanation: "Planning ahead and creating a schedule helps prevent tasks from feeling overwhelming and gives you a sense of control."
            }
        ];

        var currentQuizQuestion = 0;
        var quizAnswers = [];
        var quizScore = 0;

        function initQuiz() {
            currentQuizQuestion = 0;
            quizAnswers = [];
            quizScore = 0;
            renderQuizQuestion();
        }

        function renderQuizQuestion() {
            var q = quizQuestions[currentQuizQuestion];
            var progress = ((currentQuizQuestion) / quizQuestions.length) * 100;
            document.getElementById('quiz-progress-bar').style.width = progress + '%';

            var optionsHTML = '';
            q.options.forEach(function(opt, i) {
                optionsHTML += '<div class="quiz-option" onclick="selectQuizAnswer(' + i + ', this)">' +
                    '<span class="option-letter">' + String.fromCharCode(65 + i) + '</span>' +
                    '<span>' + opt + '</span>' +
                    '</div>';
            });

            document.getElementById('quiz-content').innerHTML = 
                '<div class="quiz-question-container">' +
                    '<div class="quiz-question-number">Question ' + (currentQuizQuestion + 1) + ' of ' + quizQuestions.length + '</div>' +
                    '<div class="quiz-question-text">' + q.question + '</div>' +
                    '<div class="quiz-options">' + optionsHTML + '</div>' +
                    '<div class="quiz-feedback" id="quiz-feedback"></div>' +
                '</div>' +
                '<div class="quiz-nav">' +
                    '<div></div>' +
                    '<button class="quiz-btn primary" id="quiz-next-btn" onclick="nextQuizQuestion()" disabled>' +
                        (currentQuizQuestion === quizQuestions.length - 1 ? 'See Results' : 'Next Question') +
                        '<svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>' +
                    '</button>' +
                '</div>';
        }

        function selectQuizAnswer(index, element) {
            if (quizAnswers[currentQuizQuestion] !== undefined) return;
            
            quizAnswers[currentQuizQuestion] = index;
            var q = quizQuestions[currentQuizQuestion];
            var isCorrect = index === q.correct;
            
            if (isCorrect) quizScore++;

            var options = document.querySelectorAll('.quiz-option');
            options.forEach(function(opt, i) {
                opt.style.pointerEvents = 'none';
                if (i === q.correct) {
                    opt.classList.add('correct');
                } else if (i === index && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            var feedback = document.getElementById('quiz-feedback');
            feedback.className = 'quiz-feedback show ' + (isCorrect ? 'correct' : 'incorrect');
            feedback.innerHTML = '<h4>' + (isCorrect ? 'Correct!' : 'Not quite') + '</h4><p>' + q.explanation + '</p>';

            document.getElementById('quiz-next-btn').disabled = false;
        }

        function nextQuizQuestion() {
            if (currentQuizQuestion < quizQuestions.length - 1) {
                currentQuizQuestion++;
                renderQuizQuestion();
            } else {
                showQuizResults();
            }
        }

        function showQuizResults() {
            document.getElementById('quiz-content').style.display = 'none';
            document.getElementById('quiz-progress-bar').style.width = '100%';
            
            var results = document.getElementById('quiz-results');
            results.classList.add('show');
            
            document.getElementById('quiz-score').textContent = quizScore;
            
            var title, message;
            if (quizScore === 5) {
                title = "Perfect score!";
                message = "You have an excellent understanding of stress management techniques.";
            } else if (quizScore >= 3) {
                title = "Nice work!";
                message = "You are building strong stress management skills. Review the strategies section to learn more.";
            } else {
                title = "Keep learning!";
                message = "Stress management is a skill that improves with practice. Re-read the content above and try again.";
            }
            
            document.getElementById('quiz-result-title').textContent = title;
            document.getElementById('quiz-result-message').textContent = message;
        }

        function resetQuiz() {
            document.getElementById('quiz-results').classList.remove('show');
            document.getElementById('quiz-content').style.display = 'block';
            initQuiz();
        }

        // Smooth scroll
        var anchors = document.querySelectorAll('a[href^="#"]');
        anchors.forEach(function(anchor) {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                var target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.querySelector('.nav-links').classList.remove('active');
                }
            });
        });

        // ==================== BREATHING EXERCISES ====================
        
        // Tab switching
        function showBreathingExercise(type) {
            // Update tabs
            var tabs = document.querySelectorAll('.breathing-tab');
            tabs.forEach(function(tab) {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update exercises
            var exercises = document.querySelectorAll('.breathing-exercise');
            exercises.forEach(function(ex) {
                ex.classList.remove('active');
            });
            document.getElementById('exercise-' + type).classList.add('active');
            
            // Stop any running exercises
            stopBoxBreathing();
            stop478Breathing();
        }

        // ==================== BOX BREATHING ====================
        var boxInterval = null;
        var boxTimeout = null;
        var boxPhase = 0; // 0: inhale, 1: hold, 2: exhale, 3: hold
        var boxCycle = 0;
        var boxCount = 4;
        var boxRunning = false;

        function startBoxBreathing() {
            if (boxRunning) return;
            boxRunning = true;
            boxPhase = 0;
            boxCycle = 0;
            boxCount = 4;
            
            document.getElementById('box-start-btn').style.display = 'none';
            document.getElementById('box-stop-btn').style.display = 'flex';
            document.getElementById('box-ring').classList.add('animating');
            
            resetCycleDots('box-cycles');
            runBoxPhase();
        }

        function runBoxPhase() {
            var circle = document.getElementById('box-circle');
            var text = document.getElementById('box-text');
            var timer = document.getElementById('box-timer');
            
            // Remove all classes
            circle.classList.remove('inhale', 'exhale', 'hold');
            
            // Set phase
            if (boxPhase === 0) {
                text.textContent = 'Breathe In';
                circle.classList.add('inhale');
            } else if (boxPhase === 1) {
                text.textContent = 'Hold';
                circle.classList.add('hold');
            } else if (boxPhase === 2) {
                text.textContent = 'Breathe Out';
                circle.classList.add('exhale');
            } else if (boxPhase === 3) {
                text.textContent = 'Hold';
                circle.classList.add('hold');
            }
            
            boxCount = 4;
            timer.textContent = boxCount;
            
            boxInterval = setInterval(function() {
                boxCount--;
                timer.textContent = boxCount;
                
                if (boxCount <= 0) {
                    clearInterval(boxInterval);
                    boxPhase++;
                    
                    if (boxPhase > 3) {
                        boxPhase = 0;
                        boxCycle++;
                        updateCycleDot('box-cycles', boxCycle - 1);
                        
                        if (boxCycle >= 4) {
                            completeBoxBreathing();
                            return;
                        }
                    }
                    
                    boxTimeout = setTimeout(runBoxPhase, 300);
                }
            }, 1000);
        }

        function stopBoxBreathing() {
            boxRunning = false;
            clearInterval(boxInterval);
            clearTimeout(boxTimeout);
            
            document.getElementById('box-start-btn').style.display = 'flex';
            document.getElementById('box-stop-btn').style.display = 'none';
            document.getElementById('box-ring').classList.remove('animating');
            
            var circle = document.getElementById('box-circle');
            circle.classList.remove('inhale', 'exhale', 'hold');
            document.getElementById('box-text').textContent = 'Ready';
            document.getElementById('box-timer').textContent = '4';
            
            resetCycleDots('box-cycles');
        }

        function completeBoxBreathing() {
            boxRunning = false;
            clearInterval(boxInterval);
            
            var circle = document.getElementById('box-circle');
            circle.classList.remove('inhale', 'exhale', 'hold');
            document.getElementById('box-text').textContent = 'Done!';
            document.getElementById('box-ring').classList.remove('animating');
            
            setTimeout(function() {
                document.getElementById('box-start-btn').style.display = 'flex';
                document.getElementById('box-stop-btn').style.display = 'none';
                document.getElementById('box-text').textContent = 'Ready';
                document.getElementById('box-timer').textContent = '4';
            }, 2000);
        }

        // ==================== 4-7-8 BREATHING ====================
        var breathing478Interval = null;
        var breathing478Timeout = null;
        var breathing478Phase = 0; // 0: inhale (4), 1: hold (7), 2: exhale (8)
        var breathing478Cycle = 0;
        var breathing478Count = 4;
        var breathing478Running = false;
        var breathing478Durations = [4, 7, 8];

        function start478Breathing() {
            if (breathing478Running) return;
            breathing478Running = true;
            breathing478Phase = 0;
            breathing478Cycle = 0;
            breathing478Count = breathing478Durations[0];
            
            document.getElementById('478-start-btn').style.display = 'none';
            document.getElementById('478-stop-btn').style.display = 'flex';
            document.getElementById('478-ring').classList.add('animating');
            
            resetCycleDots('478-cycles');
            run478Phase();
        }

        function run478Phase() {
            var circle = document.getElementById('478-circle');
            var text = document.getElementById('478-text');
            var timer = document.getElementById('478-timer');
            
            // Remove all classes
            circle.classList.remove('inhale', 'exhale', 'hold');
            
            // Set phase
            if (breathing478Phase === 0) {
                text.textContent = 'Breathe In';
                circle.classList.add('inhale');
                breathing478Count = 4;
            } else if (breathing478Phase === 1) {
                text.textContent = 'Hold';
                circle.classList.add('hold');
                breathing478Count = 7;
            } else if (breathing478Phase === 2) {
                text.textContent = 'Breathe Out';
                circle.classList.add('exhale');
                breathing478Count = 8;
            }
            
            timer.textContent = breathing478Count;
            
            breathing478Interval = setInterval(function() {
                breathing478Count--;
                timer.textContent = breathing478Count;
                
                if (breathing478Count <= 0) {
                    clearInterval(breathing478Interval);
                    breathing478Phase++;
                    
                    if (breathing478Phase > 2) {
                        breathing478Phase = 0;
                        breathing478Cycle++;
                        updateCycleDot('478-cycles', breathing478Cycle - 1);
                        
                        if (breathing478Cycle >= 4) {
                            complete478Breathing();
                            return;
                        }
                    }
                    
                    breathing478Timeout = setTimeout(run478Phase, 300);
                }
            }, 1000);
        }

        function stop478Breathing() {
            breathing478Running = false;
            clearInterval(breathing478Interval);
            clearTimeout(breathing478Timeout);
            
            document.getElementById('478-start-btn').style.display = 'flex';
            document.getElementById('478-stop-btn').style.display = 'none';
            document.getElementById('478-ring').classList.remove('animating');
            
            var circle = document.getElementById('478-circle');
            circle.classList.remove('inhale', 'exhale', 'hold');
            document.getElementById('478-text').textContent = 'Ready';
            document.getElementById('478-timer').textContent = '4';
            
            resetCycleDots('478-cycles');
        }

        function complete478Breathing() {
            breathing478Running = false;
            clearInterval(breathing478Interval);
            
            var circle = document.getElementById('478-circle');
            circle.classList.remove('inhale', 'exhale', 'hold');
            document.getElementById('478-text').textContent = 'Done!';
            document.getElementById('478-ring').classList.remove('animating');
            
            setTimeout(function() {
                document.getElementById('478-start-btn').style.display = 'flex';
                document.getElementById('478-stop-btn').style.display = 'none';
                document.getElementById('478-text').textContent = 'Ready';
                document.getElementById('478-timer').textContent = '4';
            }, 2000);
        }

        // ==================== CYCLE DOTS ====================
        function resetCycleDots(containerId) {
            var dots = document.querySelectorAll('#' + containerId + ' .cycle-dot');
            dots.forEach(function(dot) {
                dot.classList.remove('completed', 'active');
            });
        }

        function updateCycleDot(containerId, index) {
            var dots = document.querySelectorAll('#' + containerId + ' .cycle-dot');
            if (index >= 0 && index < dots.length) {
                dots[index].classList.add('completed');
            }
        }

        // ==================== 5-4-3-2-1 GROUNDING ====================
        var groundingStep = 0;

        function activateGroundingStep(index) {
            var steps = document.querySelectorAll('.grounding-step');
            steps.forEach(function(step, i) {
                step.classList.remove('active');
                if (i < index) {
                    step.classList.add('completed');
                }
            });
            steps[index].classList.add('active');
            groundingStep = index;
            
            // Focus on input
            var inputs = ['grounding-see', 'grounding-touch', 'grounding-hear', 'grounding-smell', 'grounding-taste'];
            var input = document.getElementById(inputs[index]);
            if (input) {
                setTimeout(function() {
                    input.focus();
                }, 100);
            }
        }

        function completeGrounding() {
            var steps = document.querySelectorAll('.grounding-step');
            steps.forEach(function(step) {
                step.classList.remove('active');
                step.classList.add('completed');
            });
            
            document.getElementById('grounding-steps').style.display = 'none';
            document.getElementById('grounding-complete').classList.add('show');
        }

        function resetGrounding() {
            groundingStep = 0;
            
            var steps = document.querySelectorAll('.grounding-step');
            steps.forEach(function(step, i) {
                step.classList.remove('active', 'completed');
                if (i === 0) {
                    step.classList.add('active');
                }
            });
            
            // Clear inputs
            var inputs = ['grounding-see', 'grounding-touch', 'grounding-hear', 'grounding-smell', 'grounding-taste'];
            inputs.forEach(function(id) {
                document.getElementById(id).value = '';
            });
            
            document.getElementById('grounding-steps').style.display = 'grid';
            document.getElementById('grounding-complete').classList.remove('show');
        }

        // Auto-advance grounding steps on input
        document.addEventListener('DOMContentLoaded', function() {
            var inputs = ['grounding-see', 'grounding-touch', 'grounding-hear', 'grounding-smell', 'grounding-taste'];
            inputs.forEach(function(id, index) {
                var input = document.getElementById(id);
                if (input) {
                    input.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter' && index < inputs.length - 1) {
                            e.preventDefault();
                            activateGroundingStep(index + 1);
                        } else if (e.key === 'Enter' && index === inputs.length - 1) {
                            e.preventDefault();
                            completeGrounding();
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
