<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Emotions | Teen Mental Health Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sky-blue: #6B9BC3;
            --sky-light: #A3C4E0;
            --sage: #7D9B76;
            --sage-dark: #5A7254;
            --prairie: #C9B896;
            --earth: #8B7355;
            --cream: #F7F5F0;
            --cream-dark: #EBE8E0;
            --night: #2D3436;
            --night-light: #4A5254;
            --rust: #C17B5E;
            --rust-dark: #A65D40;
            --emotion-red: #E17055;
            --emotion-orange: #F39C12;
            --emotion-yellow: #F1C40F;
            --emotion-green: #27AE60;
            --emotion-blue: #3498DB;
            --emotion-purple: #9B59B6;
            
            --text-primary: #2D3436;
            --text-secondary: #636E72;
            --border-light: rgba(45, 52, 54, 0.08);
            
            --font-display: 'Fraunces', Georgia, serif;
            --font-body: 'Outfit', -apple-system, sans-serif;
            
            --shadow-soft: 0 4px 20px rgba(45, 52, 54, 0.06);
            --shadow-medium: 0 8px 30px rgba(45, 52, 54, 0.1);
            --shadow-strong: 0 12px 40px rgba(45, 52, 54, 0.14);
            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-body);
            background-color: var(--cream);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Grain texture */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.025;
            pointer-events: none;
            z-index: 9999;
        }

        /* ==================== INTRO OVERLAY ==================== */
        .intro-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, var(--night) 0%, #1a2a3a 100%);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        .intro-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .intro-content {
            text-align: center;
            color: white;
            max-width: 600px;
            padding: 2rem;
        }

        .intro-icon {
            width: 80px; height: 80px;
            background: linear-gradient(135deg, var(--emotion-red) 0%, var(--emotion-orange) 50%, var(--emotion-yellow) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(225, 112, 85, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(225, 112, 85, 0); }
        }

        .intro-icon svg { width: 40px; height: 40px; fill: white; }

        .intro-content h1 {
            font-family: var(--font-display);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.3s;
        }

        .intro-content p {
            font-size: 1.15rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.5s;
        }

        .intro-tagline {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--emotion-yellow);
            margin-bottom: 2.5rem;
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.7s;
        }

        .intro-btn {
            padding: 1rem 2.5rem;
            background: white;
            color: var(--night);
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: slideUp 0.6s ease forwards 0.9s;
        }

        .intro-btn:hover {
            background: var(--emotion-yellow);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* ==================== NAVIGATION ==================== */
        .navbar {
            position: fixed;
            top: 0; left: 0; right: 0;
            padding: 1rem 2rem;
            background: rgba(247, 245, 240, 0.92);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-light);
        }
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--night);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }
        .logo-mark {
            width: 36px; height: 36px;
            background: linear-gradient(135deg, var(--sage) 0%, var(--sky-blue) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logo-mark svg { width: 20px; height: 20px; fill: white; }
        .nav-links { display: flex; gap: 0.5rem; list-style: none; }
        .nav-links a {
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.6rem 1.1rem;
            border-radius: var(--radius-sm);
            transition: var(--transition);
        }
        .nav-links a:hover { color: var(--text-primary); background: var(--cream-dark); }
        .nav-links a.active { color: var(--emotion-red); background: rgba(225, 112, 85, 0.12); }
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
        }
        .mobile-menu-btn span {
            display: block;
            width: 22px; height: 2px;
            background: var(--night);
            margin: 5px 0;
            transition: var(--transition);
        }

        /* ==================== PAGE HERO ==================== */
        .page-hero {
            padding: 10rem 2rem 5rem;
            background: linear-gradient(180deg, var(--cream) 0%, white 100%);
            position: relative;
            overflow: hidden;
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: 0; right: -10%;
            width: 500px; height: 500px;
            background: radial-gradient(circle, rgba(225, 112, 85, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .page-hero-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .page-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(225, 112, 85, 0.12);
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--emotion-red);
            margin-bottom: 1.5rem;
        }

        .page-hero h1 {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            color: var(--night);
            margin-bottom: 1rem;
        }

        .page-hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* ==================== CONTENT SECTIONS ==================== */
        .content-section {
            padding: 5rem 2rem;
        }

        .section-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .content-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-soft);
            border-left: 4px solid var(--emotion-red);
        }

        .content-card h2 {
            font-family: var(--font-display);
            font-size: 1.75rem;
            color: var(--night);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .content-card h2 .icon {
            width: 40px; height: 40px;
            background: linear-gradient(135deg, var(--emotion-red) 0%, var(--emotion-orange) 100%);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .content-card h2 .icon svg { width: 20px; height: 20px; fill: white; }

        .content-card p {
            color: var(--text-secondary);
            font-size: 1.05rem;
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(225, 112, 85, 0.08) 0%, rgba(243, 156, 18, 0.08) 100%);
            border-left: 4px solid var(--emotion-orange);
            padding: 1.5rem;
            border-radius: var(--radius-sm);
            margin: 1.5rem 0;
        }

        .highlight-box p {
            color: var(--night);
            font-weight: 500;
            margin: 0;
        }

        /* ==================== RAE FRAMEWORK ==================== */
        .framework-section {
            background: white;
            padding: 5rem 2rem;
        }

        .framework-header {
            text-align: center;
            max-width: 600px;
            margin: 0 auto 3rem;
        }

        .framework-header h2 {
            font-family: var(--font-display);
            font-size: 2rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .framework-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .framework-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .framework-card {
            background: var(--cream);
            border-radius: var(--radius-lg);
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .framework-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--emotion-red) 0%, var(--emotion-orange) 100%);
            transform: scaleX(0);
            transition: var(--transition);
        }

        .framework-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
        }

        .framework-card:hover::before { transform: scaleX(1); }

        .framework-card.active {
            background: white;
            box-shadow: var(--shadow-medium);
        }

        .framework-card.active::before { transform: scaleX(1); }

        .framework-number {
            width: 50px; height: 50px;
            background: linear-gradient(135deg, var(--emotion-red) 0%, var(--emotion-orange) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.25rem;
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .framework-card h3 {
            font-family: var(--font-display);
            font-size: 1.4rem;
            color: var(--night);
            margin-bottom: 0.5rem;
        }

        .framework-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .framework-detail {
            display: none;
            background: white;
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-top: 1.5rem;
            text-align: left;
            border: 1px solid var(--border-light);
        }

        .framework-card.active .framework-detail { display: block; }

        .framework-detail h4 {
            font-size: 1rem;
            color: var(--emotion-red);
            margin-bottom: 0.75rem;
        }

        .framework-detail ul {
            list-style: none;
            padding: 0;
        }

        .framework-detail li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .framework-detail li::before {
            content: '->';
            position: absolute;
            left: 0;
            color: var(--emotion-orange);
            font-weight: bold;
        }

        /* ==================== PRACTICE EXERCISE ==================== */
        .practice-section {
            padding: 5rem 2rem;
            background: linear-gradient(180deg, var(--cream) 0%, var(--cream-dark) 100%);
        }

        .practice-container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-strong);
            overflow: hidden;
        }

        .practice-header {
            background: linear-gradient(135deg, var(--emotion-red) 0%, var(--emotion-orange) 100%);
            padding: 2rem;
            color: white;
            text-align: center;
        }

        .practice-header h2 {
            font-family: var(--font-display);
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .practice-header p { opacity: 0.9; }

        .practice-content { padding: 2.5rem; }

        .practice-step {
            display: none;
            animation: fadeSlide 0.4s ease;
        }

        .practice-step.active { display: block; }

        @keyframes fadeSlide {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .practice-step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .step-dot {
            width: 10px; height: 10px;
            border-radius: 50%;
            background: var(--cream-dark);
            transition: var(--transition);
        }

        .step-dot.active { background: var(--emotion-red); width: 30px; border-radius: 5px; }
        .step-dot.completed { background: var(--sage); }

        .practice-question {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--night);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .emotion-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .emotion-btn {
            padding: 1rem;
            border: 2px solid var(--cream-dark);
            border-radius: var(--radius-md);
            background: var(--cream);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .emotion-btn:hover { border-color: var(--emotion-orange); background: rgba(243, 156, 18, 0.08); }
        .emotion-btn.selected { border-color: var(--emotion-red); background: rgba(225, 112, 85, 0.12); }

        .emotion-btn .emoji { font-size: 2rem; margin-bottom: 0.5rem; }
        .emotion-btn .label { font-size: 0.9rem; font-weight: 500; color: var(--night); }

        .practice-textarea {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 2px solid var(--cream-dark);
            border-radius: var(--radius-md);
            font-family: var(--font-body);
            font-size: 1rem;
            resize: vertical;
            transition: var(--transition);
        }

        .practice-textarea:focus {
            outline: none;
            border-color: var(--emotion-orange);
        }

        .intensity-slider {
            width: 100%;
            margin: 1.5rem 0;
        }

        .intensity-slider input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, var(--sage) 0%, var(--emotion-yellow) 50%, var(--emotion-red) 100%);
            outline: none;
            -webkit-appearance: none;
        }

        .intensity-slider input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px; height: 24px;
            border-radius: 50%;
            background: white;
            border: 3px solid var(--emotion-orange);
            cursor: pointer;
            box-shadow: var(--shadow-soft);
        }

        .intensity-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .intensity-value {
            text-align: center;
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--emotion-orange);
            margin-bottom: 1rem;
        }

        .practice-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-light);
        }

        .practice-btn {
            padding: 0.9rem 1.75rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .practice-btn.prev {
            background: transparent;
            border: 2px solid var(--text-secondary);
            color: var(--text-secondary);
        }

        .practice-btn.prev:hover { border-color: var(--night); color: var(--night); }

        .practice-btn.next {
            background: var(--night);
            border: 2px solid var(--night);
            color: white;
        }

        .practice-btn.next:hover { background: var(--emotion-red); border-color: var(--emotion-red); }
        .practice-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .practice-btn svg { width: 16px; height: 16px; fill: currentColor; }

        /* Practice Results */
        .practice-results {
            text-align: center;
        }

        .results-icon {
            width: 70px; height: 70px;
            background: linear-gradient(135deg, var(--sage) 0%, var(--emotion-green) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .results-icon svg { width: 35px; height: 35px; fill: white; }

        .practice-results h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--night);
            margin-bottom: 1rem;
        }

        .reflection-summary {
            background: var(--cream);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            text-align: left;
            margin: 1.5rem 0;
        }

        .reflection-item {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-light);
        }

        .reflection-item:last-child { border-bottom: none; }

        .reflection-label {
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .reflection-value {
            font-size: 1rem;
            color: var(--night);
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1) 0%, rgba(125, 155, 118, 0.1) 100%);
            border-left: 4px solid var(--sage);
            padding: 1.25rem;
            border-radius: var(--radius-sm);
            margin-top: 1.5rem;
            text-align: left;
        }

        .insight-box h4 {
            font-size: 0.95rem;
            color: var(--sage-dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .insight-box p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }

        /* ==================== SELF-CHECK QUIZ ==================== */
        .quiz-section {
            padding: 5rem 2rem;
            background: white;
        }

        .quiz-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .quiz-header h2 {
            font-family: var(--font-display);
            font-size: 2rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .quiz-header p {
            color: var(--text-secondary);
            font-size: 1.05rem;
        }

        .quiz-progress {
            height: 6px;
            background: var(--cream-dark);
            border-radius: 3px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .quiz-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--emotion-red) 0%, var(--emotion-orange) 100%);
            border-radius: 3px;
            transition: width 0.4s ease;
        }

        .quiz-question-container {
            background: var(--cream);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .quiz-question-number {
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--emotion-red);
            margin-bottom: 0.75rem;
        }

        .quiz-question-text {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--night);
            margin-bottom: 1.5rem;
        }

        .quiz-options { display: grid; gap: 0.75rem; }

        .quiz-option {
            padding: 1rem 1.25rem;
            background: white;
            border: 2px solid transparent;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.9rem;
            font-size: 0.95rem;
        }

        .quiz-option:hover { border-color: var(--emotion-orange); }
        .quiz-option.selected { border-color: var(--emotion-red); background: rgba(225, 112, 85, 0.08); }
        .quiz-option.correct { border-color: var(--sage); background: rgba(125, 155, 118, 0.15); }
        .quiz-option.incorrect { border-color: var(--emotion-red); background: rgba(225, 112, 85, 0.15); }

        .option-letter {
            width: 28px; height: 28px;
            border-radius: 50%;
            background: var(--cream-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--text-secondary);
            flex-shrink: 0;
            transition: var(--transition);
        }

        .quiz-option.selected .option-letter { background: var(--emotion-red); color: white; }
        .quiz-option.correct .option-letter { background: var(--sage); color: white; }
        .quiz-option.incorrect .option-letter { background: var(--emotion-red); color: white; }

        .quiz-feedback {
            display: none;
            padding: 1.25rem;
            border-radius: var(--radius-md);
            margin-top: 1rem;
        }

        .quiz-feedback.show { display: block; animation: fadeSlide 0.3s ease; }
        .quiz-feedback.correct { background: rgba(125, 155, 118, 0.15); border-left: 4px solid var(--sage); }
        .quiz-feedback.incorrect { background: rgba(225, 112, 85, 0.15); border-left: 4px solid var(--emotion-red); }

        .quiz-feedback h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .quiz-feedback.correct h4 { color: var(--sage-dark); }
        .quiz-feedback.incorrect h4 { color: var(--emotion-red); }

        .quiz-feedback p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .quiz-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .quiz-btn {
            padding: 0.9rem 1.75rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
        }

        .quiz-btn.secondary { background: var(--cream); color: var(--night); }
        .quiz-btn.secondary:hover { background: var(--cream-dark); }
        .quiz-btn.primary { background: var(--night); color: white; }
        .quiz-btn.primary:hover { background: var(--emotion-red); }
        .quiz-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .quiz-btn svg { width: 16px; height: 16px; fill: currentColor; }

        /* Quiz Results */
        .quiz-results {
            display: none;
            text-align: center;
            padding: 2rem;
            background: var(--cream);
            border-radius: var(--radius-lg);
        }

        .quiz-results.show { display: block; animation: fadeSlide 0.5s ease; }

        .quiz-score-circle {
            width: 120px; height: 120px;
            border-radius: 50%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            box-shadow: var(--shadow-medium);
        }

        .quiz-score-value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--emotion-red);
            line-height: 1;
        }

        .quiz-score-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        .quiz-results h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--night);
            margin-bottom: 0.75rem;
        }

        .quiz-results p {
            color: var(--text-secondary);
            max-width: 400px;
            margin: 0 auto 1.5rem;
        }

        .quiz-results .practice-btn {
            margin: 0 auto;
        }

        /* ==================== FOOTER ==================== */
        footer {
            background: var(--night);
            color: white;
            padding: 3rem 2rem 2rem;
        }

        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .footer-brand { display: flex; align-items: center; gap: 0.6rem; }
        .footer-brand .logo-mark { width: 32px; height: 32px; }
        .footer-brand span { font-family: var(--font-display); font-size: 1.25rem; font-weight: 600; }
        .footer-links { display: flex; gap: 2rem; flex-wrap: wrap; }
        .footer-links a { color: var(--sky-light); text-decoration: none; font-size: 0.9rem; transition: var(--transition); }
        .footer-links a:hover { color: white; }
        .footer-copy {
            width: 100%;
            text-align: center;
            padding-top: 2rem;
            margin-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 0.85rem;
            color: var(--sky-light);
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            .navbar { padding: 0.9rem 1.5rem; }
            .nav-links {
                display: none;
                position: absolute;
                top: 100%; left: 0; right: 0;
                background: var(--cream);
                flex-direction: column;
                padding: 1.5rem;
                gap: 0.5rem;
                border-bottom: 1px solid var(--border-light);
            }
            .nav-links.active { display: flex; }
            .mobile-menu-btn { display: block; }
            .page-hero { padding: 8rem 1.5rem 3rem; }
            .content-card { padding: 1.75rem; }
            .emotion-grid { grid-template-columns: repeat(2, 1fr); }
            .practice-content { padding: 1.75rem; }
            .footer-container { flex-direction: column; text-align: center; }
            .footer-links { justify-content: center; }
            .intro-content h1 { font-size: 2rem; }
        }

        @media (max-width: 480px) {
            .framework-grid { grid-template-columns: 1fr; }
            .emotion-grid { grid-template-columns: 1fr; }
            .intro-content h1 { font-size: 1.75rem; }
            .intro-tagline { font-size: 1.25rem; }
        }
    </style>
</head>
<body>

    <!-- Intro Overlay -->
    <div class="intro-overlay" id="intro-overlay">
        <div class="intro-content">
            <div class="intro-icon">
                <svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></svg>
            </div>
            <h1>Understanding Your Emotions</h1>
            <p>Your feelings are not random--they are signals. Learning to read them is one of the most powerful skills you can develop.</p>
            <div class="intro-tagline">"Emotions are not your enemy. They are data."</div>
            <button class="intro-btn" onclick="closeIntro()">Let Us Begin</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-mark">
                    <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                </div>
                Teen Mental Health
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="Emotions.html" class="active">Emotions</a></li>
                <li><a href="Stress.html">Stress Management</a></li>
                <li><a href="Care.html">Self-Care</a></li>
                <li><a href="Talk.html">Positive Self-Talk</a></li>
            </ul>
            <button class="mobile-menu-btn" aria-label="Toggle menu" onclick="toggleMobileMenu()">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="page-hero-content">
            <span class="page-badge">Module 1</span>
            <h1>Understanding Emotions</h1>
            <p>Learn to identify, process, and express your feelings in healthy ways that strengthen your mental health.</p>
        </div>
    </section>

    <!-- Content Section: What Are Emotions -->
    <section class="content-section">
        <div class="section-container">
            <div class="content-card">
                <h2>
                    <span class="icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2z"/></svg></span>
                    What Are Emotions?
                </h2>
                <div class="highlight-box">
                    <p>Emotions are conscious mental reactions to events, people, or thoughts. They create physical sensations in your body and influence how you behave.</p>
                </div>
                <p>Think of emotions as your brain's messaging system. When something happens--good or bad--your brain sends signals that create feelings. These feelings are not random; they are information about what matters to you and what you need.</p>
                <p>Every emotion serves a purpose: fear keeps you safe, anger protects your boundaries, sadness helps you process loss, and joy reinforces positive experiences.</p>
            </div>

            <div class="content-card">
                <h2>
                    <span class="icon"><svg viewBox="0 0 24 24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"/></svg></span>
                    Why Teens Feel More Intensely
                </h2>
                <p>If your emotions sometimes feel overwhelming, there is a scientific reason: your brain is literally under construction.</p>
                <div class="highlight-box">
                    <p>During adolescence, the emotional centers of your brain develop faster than the prefrontal cortex (the part that helps regulate emotions). This imbalance is completely normal--and temporary.</p>
                </div>
                <p>Research shows that the brain's emotional processing areas reach maturity years before the areas responsible for impulse control and rational thinking. This means you might feel things more intensely than adults, and that is okay.</p>
                <p>The good news? This period of heightened emotional sensitivity is also when your brain is most capable of learning new skills--including emotional intelligence.</p>
            </div>
        </div>
    </section>

    <!-- R.A.E. Framework Section -->
    <section class="framework-section" id="framework">
        <div class="section-container">
            <div class="framework-header">
                <h2>The R.A.E. Framework</h2>
                <p>Three steps to building emotional intelligence. Click each card to learn more.</p>
            </div>

            <div class="framework-grid">
                <div class="framework-card" onclick="toggleFramework(this)">
                    <div class="framework-number">R</div>
                    <h3>Recognize</h3>
                    <p>Identify what you are feeling without judgment.</p>
                    <div class="framework-detail">
                        <h4>How to practice:</h4>
                        <ul>
                            <li>Pause and ask "What am I feeling right now?"</li>
                            <li>Notice physical sensations (tight chest, racing heart, relaxed shoulders)</li>
                            <li>Name the emotion specifically (not just "bad" but "frustrated" or "anxious")</li>
                            <li>Accept the feeling without trying to change it immediately</li>
                        </ul>
                    </div>
                </div>

                <div class="framework-card" onclick="toggleFramework(this)">
                    <div class="framework-number">A</div>
                    <h3>Analyze</h3>
                    <p>Understand why you are feeling this way.</p>
                    <div class="framework-detail">
                        <h4>Questions to ask yourself:</h4>
                        <ul>
                            <li>"What triggered this feeling?"</li>
                            <li>"Is this emotion proportional to the situation?"</li>
                            <li>"Have I felt this way before in similar situations?"</li>
                            <li>"What need or value is connected to this emotion?"</li>
                        </ul>
                    </div>
                </div>

                <div class="framework-card" onclick="toggleFramework(this)">
                    <div class="framework-number">E</div>
                    <h3>Empathize</h3>
                    <p>Extend understanding to yourself and others.</p>
                    <div class="framework-detail">
                        <h4>Building empathy:</h4>
                        <ul>
                            <li>Practice self-compassion--treat yourself like you would treat a friend</li>
                            <li>Listen actively when others share their feelings</li>
                            <li>Ask questions to understand, not to respond</li>
                            <li>Remember that everyone is fighting their own battles</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Exercise Section -->
    <section class="practice-section" id="practice">
        <div class="section-container">
            <div class="practice-container">
                <div class="practice-header">
                    <h2>Practice: Emotion Check-In</h2>
                    <p>Apply the R.A.E. framework to something you are feeling right now.</p>
                </div>

                <div class="practice-content">
                    <!-- Step Indicators -->
                    <div class="practice-step-indicator">
                        <div class="step-dot active" data-step="1"></div>
                        <div class="step-dot" data-step="2"></div>
                        <div class="step-dot" data-step="3"></div>
                        <div class="step-dot" data-step="4"></div>
                    </div>

                    <!-- Step 1: Recognize -->
                    <div class="practice-step active" id="practice-step-1">
                        <p class="practice-question">Step 1: Recognize -- What emotion best describes how you are feeling right now?</p>
                        <div class="emotion-grid">
                            <button class="emotion-btn" onclick="selectEmotion(this, 'Happy')">
                                <div class="emoji">:)</div>
                                <div class="label">Happy</div>
                            </button>
                            <button class="emotion-btn" onclick="selectEmotion(this, 'Anxious')">
                                <div class="emoji">:/</div>
                                <div class="label">Anxious</div>
                            </button>
                            <button class="emotion-btn" onclick="selectEmotion(this, 'Sad')">
                                <div class="emoji">:(</div>
                                <div class="label">Sad</div>
                            </button>
                            <button class="emotion-btn" onclick="selectEmotion(this, 'Angry')">
                                <div class="emoji">&gt;:(</div>
                                <div class="label">Angry</div>
                            </button>
                            <button class="emotion-btn" onclick="selectEmotion(this, 'Calm')">
                                <div class="emoji">-_-</div>
                                <div class="label">Calm</div>
                            </button>
                            <button class="emotion-btn" onclick="selectEmotion(this, 'Confused')">
                                <div class="emoji">?_?</div>
                                <div class="label">Confused</div>
                            </button>
                        </div>
                        <div class="practice-nav">
                            <div></div>
                            <button class="practice-btn next" onclick="nextPracticeStep()" id="practice-next-1" disabled>
                                Continue
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Intensity -->
                    <div class="practice-step" id="practice-step-2">
                        <p class="practice-question">How intense is this feeling right now?</p>
                        <div class="intensity-value" id="intensity-display">5</div>
                        <div class="intensity-slider">
                            <input type="range" min="1" max="10" value="5" id="intensity-slider" oninput="updateIntensity(this.value)">
                            <div class="intensity-labels">
                                <span>Barely noticeable</span>
                                <span>Overwhelming</span>
                            </div>
                        </div>
                        <div class="practice-nav">
                            <button class="practice-btn prev" onclick="prevPracticeStep()">
                                <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                                Back
                            </button>
                            <button class="practice-btn next" onclick="nextPracticeStep()">
                                Continue
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Analyze -->
                    <div class="practice-step" id="practice-step-3">
                        <p class="practice-question">Step 2: Analyze -- What do you think triggered this feeling?</p>
                        <textarea class="practice-textarea" id="trigger-input" placeholder="Describe what happened or what you were thinking about..."></textarea>
                        <div class="practice-nav">
                            <button class="practice-btn prev" onclick="prevPracticeStep()">
                                <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                                Back
                            </button>
                            <button class="practice-btn next" onclick="nextPracticeStep()">
                                Continue
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Results -->
                    <div class="practice-step" id="practice-step-4">
                        <div class="practice-results">
                            <div class="results-icon">
                                <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                            </div>
                            <h3>Great job! Here is your reflection:</h3>
                            
                            <div class="reflection-summary" id="reflection-summary">
                                <!-- Filled by JS -->
                            </div>

                            <div class="insight-box">
                                <h4>
                                    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"/></svg>
                                    Insight
                                </h4>
                                <p id="practice-insight">By naming your emotion and understanding its trigger, you have already taken the first step toward emotional intelligence. Practice this check-in daily to build awareness.</p>
                            </div>

                            <div class="practice-nav" style="justify-content: center;">
                                <button class="practice-btn next" onclick="resetPractice()">
                                    Try Again
                                    <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Self-Check Quiz Section -->
    <section class="quiz-section" id="quiz">
        <div class="quiz-container">
            <div class="quiz-header">
                <h2>Self-Check: Test Your Understanding</h2>
                <p>See how much you have learned about emotions and emotional intelligence.</p>
            </div>

            <div class="quiz-progress">
                <div class="quiz-progress-bar" id="quiz-progress-bar" style="width: 0%"></div>
            </div>

            <div id="quiz-content">
                <!-- Questions rendered by JS -->
            </div>

            <div class="quiz-results" id="quiz-results">
                <div class="quiz-score-circle">
                    <div class="quiz-score-value" id="quiz-score">0</div>
                    <div class="quiz-score-label">out of 5</div>
                </div>
                <h3 id="quiz-result-title">Nice work!</h3>
                <p id="quiz-result-message">You are building a solid foundation in emotional intelligence.</p>
                <button class="practice-btn next" onclick="resetQuiz()">
                    Try Again
                    <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-brand">
                <div class="logo-mark"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div>
                <span>Teen Mental Health Guide</span>
            </div>
            <div class="footer-links">
                <a href="index.html">Home</a>
                <a href="#framework">R.A.E. Framework</a>
                <a href="#practice">Practice</a>
                <a href="#quiz">Self-Check</a>
            </div>
            <p class="footer-copy">(c) 2025 Teen Mental Health Guide. This site does not provide medical advice. If you are in crisis, please call 988.</p>
        </div>
    </footer>

    <script>
        // ==================== INTRO OVERLAY ====================
        function closeIntro() {
            document.getElementById('intro-overlay').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Check if user has seen intro before
        document.addEventListener('DOMContentLoaded', () => {
            const hasSeenIntro = sessionStorage.getItem('emotions_intro_seen');
            if (hasSeenIntro) {
                document.getElementById('intro-overlay').classList.add('hidden');
            } else {
                document.body.style.overflow = 'hidden';
                sessionStorage.setItem('emotions_intro_seen', 'true');
            }
            initQuiz();
        });

        // ==================== MOBILE MENU ====================
        function toggleMobileMenu() {
            document.querySelector('.nav-links').classList.toggle('active');
        }

        // ==================== FRAMEWORK CARDS ====================
        function toggleFramework(card) {
            const wasActive = card.classList.contains('active');
            document.querySelectorAll('.framework-card').forEach(c => c.classList.remove('active'));
            if (!wasActive) card.classList.add('active');
        }

        // ==================== PRACTICE EXERCISE ====================
        let practiceData = {
            emotion: null,
            intensity: 5,
            trigger: ''
        };
        let currentPracticeStep = 1;

        function selectEmotion(btn, emotion) {
            document.querySelectorAll('.emotion-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            practiceData.emotion = emotion;
            document.getElementById('practice-next-1').disabled = false;
        }

        function updateIntensity(value) {
            document.getElementById('intensity-display').textContent = value;
            practiceData.intensity = value;
        }

        function updateStepIndicators() {
            document.querySelectorAll('.step-dot').forEach((dot, i) => {
                dot.classList.remove('active', 'completed');
                if (i + 1 === currentPracticeStep) {
                    dot.classList.add('active');
                } else if (i + 1 < currentPracticeStep) {
                    dot.classList.add('completed');
                }
            });
        }

        function nextPracticeStep() {
            if (currentPracticeStep === 3) {
                practiceData.trigger = document.getElementById('trigger-input').value;
                showPracticeResults();
            }
            
            document.getElementById(`practice-step-${currentPracticeStep}`).classList.remove('active');
            currentPracticeStep++;
            document.getElementById(`practice-step-${currentPracticeStep}`).classList.add('active');
            updateStepIndicators();
        }

        function prevPracticeStep() {
            document.getElementById(`practice-step-${currentPracticeStep}`).classList.remove('active');
            currentPracticeStep--;
            document.getElementById(`practice-step-${currentPracticeStep}`).classList.add('active');
            updateStepIndicators();
        }

        function showPracticeResults() {
            const summaryHTML = `
                <div class="reflection-item">
                    <div class="reflection-label">Emotion</div>
                    <div class="reflection-value">${practiceData.emotion}</div>
                </div>
                <div class="reflection-item">
                    <div class="reflection-label">Intensity</div>
                    <div class="reflection-value">${practiceData.intensity}/10</div>
                </div>
                <div class="reflection-item">
                    <div class="reflection-label">Trigger</div>
                    <div class="reflection-value">${practiceData.trigger || 'Not specified'}</div>
                </div>
            `;
            document.getElementById('reflection-summary').innerHTML = summaryHTML;

            // Custom insight based on emotion
            const insights = {
                'Happy': "Happiness often comes from connection, achievement, or gratitude. Notice what brought this feeling--you can intentionally create more of these moments.",
                'Anxious': "Anxiety is your brain trying to protect you from perceived threats. Ask yourself: Is this threat real and immediate? Often, our worries are about things that have not happened yet.",
                'Sad': "Sadness signals loss or disappointment. It is healthy to feel sad--it means you care. Give yourself permission to grieve, then look for small steps forward.",
                'Angry': "Anger often masks other feelings like hurt, fear, or frustration. It is also a signal that a boundary has been crossed. What need is not being met?",
                'Calm': "Calm is a sign of emotional regulation. Notice what contributed to this state--sleep, environment, recent activities--so you can cultivate it intentionally.",
                'Confused': "Confusion often means you are processing something complex. Give yourself time and grace. Sometimes clarity comes after we stop forcing it."
            };
            document.getElementById('practice-insight').textContent = insights[practiceData.emotion] || "By naming your emotion and understanding its trigger, you have taken the first step toward emotional intelligence.";
        }

        function resetPractice() {
            practiceData = { emotion: null, intensity: 5, trigger: '' };
            currentPracticeStep = 1;
            document.querySelectorAll('.emotion-btn').forEach(b => b.classList.remove('selected'));
            document.getElementById('intensity-slider').value = 5;
            document.getElementById('intensity-display').textContent = '5';
            document.getElementById('trigger-input').value = '';
            document.getElementById('practice-next-1').disabled = true;
            
            document.querySelectorAll('.practice-step').forEach(s => s.classList.remove('active'));
            document.getElementById('practice-step-1').classList.add('active');
            updateStepIndicators();
        }

        // ==================== QUIZ ====================
        const quizQuestions = [
            {
                question: "What is the primary purpose of emotions?",
                options: [
                    "To make life difficult",
                    "To provide information about what matters to you",
                    "To control your behavior",
                    "To impress others"
                ],
                correct: 1,
                explanation: "Emotions are your brain's messaging system--they provide valuable information about your needs, values, and what is important to you."
            },
            {
                question: "Why do teens often experience emotions more intensely than adults?",
                options: [
                    "Teens are more dramatic",
                    "The emotional brain develops faster than the regulation areas",
                    "Adults do not have real emotions",
                    "Teens have more problems"
                ],
                correct: 1,
                explanation: "During adolescence, the brain's emotional centers mature before the prefrontal cortex (which helps regulate emotions), creating a temporary imbalance."
            },
            {
                question: "What does the 'R' in R.A.E. stand for?",
                options: [
                    "React",
                    "Remember",
                    "Recognize",
                    "Respond"
                ],
                correct: 2,
                explanation: "Recognize is the first step--identifying what you are feeling without judgment before trying to understand or change it."
            },
            {
                question: "Which of these is a good way to analyze an emotion?",
                options: [
                    "Ignore it until it goes away",
                    "Ask 'What triggered this feeling?'",
                    "Tell yourself you should not feel that way",
                    "Distract yourself immediately"
                ],
                correct: 1,
                explanation: "Asking what triggered the feeling helps you understand the source and whether your emotional response is proportional to the situation."
            },
            {
                question: "What is emotional intelligence?",
                options: [
                    "Never feeling negative emotions",
                    "Being able to control others' emotions",
                    "Understanding and managing your emotions while connecting with others",
                    "Always being happy"
                ],
                correct: 2,
                explanation: "Emotional intelligence involves recognizing your own emotions, understanding them, managing them effectively, and empathizing with others."
            }
        ];

        let currentQuizQuestion = 0;
        let quizAnswers = [];
        let quizScore = 0;

        function initQuiz() {
            currentQuizQuestion = 0;
            quizAnswers = [];
            quizScore = 0;
            renderQuizQuestion();
        }

        function renderQuizQuestion() {
            const q = quizQuestions[currentQuizQuestion];
            const progress = ((currentQuizQuestion) / quizQuestions.length) * 100;
            document.getElementById('quiz-progress-bar').style.width = `${progress}%`;

            let optionsHTML = q.options.map((opt, i) => `
                <div class="quiz-option" onclick="selectQuizAnswer(${i}, this)">
                    <span class="option-letter">${String.fromCharCode(65 + i)}</span>
                    <span>${opt}</span>
                </div>
            `).join('');

            document.getElementById('quiz-content').innerHTML = `
                <div class="quiz-question-container">
                    <div class="quiz-question-number">Question ${currentQuizQuestion + 1} of ${quizQuestions.length}</div>
                    <div class="quiz-question-text">${q.question}</div>
                    <div class="quiz-options">${optionsHTML}</div>
                    <div class="quiz-feedback" id="quiz-feedback"></div>
                </div>
                <div class="quiz-nav">
                    <div></div>
                    <button class="quiz-btn primary" id="quiz-next-btn" onclick="nextQuizQuestion()" disabled>
                        ${currentQuizQuestion === quizQuestions.length - 1 ? 'See Results' : 'Next Question'}
                        <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                    </button>
                </div>
            `;
        }

        function selectQuizAnswer(index, element) {
            if (quizAnswers[currentQuizQuestion] !== undefined) return; // Already answered
            
            quizAnswers[currentQuizQuestion] = index;
            const q = quizQuestions[currentQuizQuestion];
            const isCorrect = index === q.correct;
            
            if (isCorrect) quizScore++;

            // Style options
            document.querySelectorAll('.quiz-option').forEach((opt, i) => {
                opt.style.pointerEvents = 'none';
                if (i === q.correct) {
                    opt.classList.add('correct');
                } else if (i === index && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            // Show feedback
            const feedback = document.getElementById('quiz-feedback');
            feedback.className = `quiz-feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <h4>${isCorrect ? 'Correct!' : 'Not quite'}</h4>
                <p>${q.explanation}</p>
            `;

            document.getElementById('quiz-next-btn').disabled = false;
        }

        function nextQuizQuestion() {
            if (currentQuizQuestion < quizQuestions.length - 1) {
                currentQuizQuestion++;
                renderQuizQuestion();
            } else {
                showQuizResults();
            }
        }

        function showQuizResults() {
            document.getElementById('quiz-content').style.display = 'none';
            document.getElementById('quiz-progress-bar').style.width = '100%';
            
            const results = document.getElementById('quiz-results');
            results.classList.add('show');
            
            document.getElementById('quiz-score').textContent = quizScore;
            
            let title, message;
            if (quizScore === 5) {
                title = "Perfect score!";
                message = "You have an excellent understanding of emotions and emotional intelligence.";
            } else if (quizScore >= 3) {
                title = "Nice work!";
                message = "You are building a solid foundation. Review the sections above to strengthen your understanding.";
            } else {
                title = "Keep learning!";
                message = "Emotional intelligence is a skill that develops over time. Re-read the content above and try again.";
            }
            
            document.getElementById('quiz-result-title').textContent = title;
            document.getElementById('quiz-result-message').textContent = message;
        }

        function resetQuiz() {
            document.getElementById('quiz-results').classList.remove('show');
            document.getElementById('quiz-content').style.display = 'block';
            initQuiz();
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    document.querySelector('.nav-links').classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
